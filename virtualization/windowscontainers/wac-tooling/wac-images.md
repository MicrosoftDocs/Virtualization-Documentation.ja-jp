---
title: Windows 管理センターでコンテナーイメージを作成する
description: Windows 管理センターのコンテナーイメージ
keywords: docker、コンテナー、Windows 管理センター
author: vrapolinario
ms.author: viniap
ms.date: 12/23/2020
ms.topic: quickstart
ms.assetid: bb9bfbe0-5bdc-4984-912f-9c93ea67105f
ms.openlocfilehash: f11e73f1865b8f41ec16ec8d9e4880b2d5d669b5
ms.sourcegitcommit: 0fed672793b8b0c07253c498ac6f7c98ca5fe2b2
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 01/15/2021
ms.locfileid: "98241643"
---
# <a name="create-new-container-images-on-windows-admin-center"></a>Windows 管理センターで新しいコンテナーイメージを作成する

このトピックでは、Windows 管理センターを使用して新しいコンテナーイメージを作成する方法について説明します。 コンテナーイメージは、Windows マシンまたはその他のクラウドサービス (Azure Kubernetes Service など) で新しいコンテナーを作成するために使用されます。 Windows イメージの詳細については、「 [コンテナーイメージの概要](https://docs.microsoft.com/virtualization/windowscontainers/about/#container-images)」を参照してください。

## <a name="create-new-container-images"></a>新しいコンテナー イメージの作成

コンテナーを使用する場合は、コンテナーイメージの動作について Docker への指示を記述し、Docker はこれらの手順に基づいて新しいコンテナーイメージを作成します。 これらの手順は、アプリケーションが存在するフォルダーに保存される "Dockerfile" という名前のファイルに保存されます。 

Windows 管理センターでは、Dockerfiles の作成に伴うオーバーヘッドを大幅に削減できます。また、これらのファイルを完全に書き込む必要もなくなります。 開始するには、[**コンテナー** ] 拡張で、[**イメージ**] タブの [**新規作成**] オプションを選択します。

![新しいコンテナーを作成する](./media/WAC-CreateNew.png)

新しいコンテナーイメージを作成する場合、次のオプションを選択できます。

- **既存の Dockerfile を使用** する: このオプションを使用すると、既存の dockerfile に基づいて新しいコンテナーイメージを再構築できます。 これは、既存の Dockerfile に対して小さな変更を加える必要がある場合、またはアプリケーションの更新をキャッチするためにコンテナーを再作成する必要がある場合に便利です。
- **Iis web アプリケーション/静的 web アプリケーションフォルダー**: iis 基本イメージを使用して新しいコンテナーイメージを作成するには、このオプションを使用します。 フォルダーのコンテンツは、web サイトとして追加するために、コンテナーイメージにコピーされます。 このオプションでは、フレームワークは追加されません。
- **IIS web アプリケーション/Visual studio ソリューション (ASP.NET)**: 既存の Visual studio ソリューションに基づいて新しいコンテナーイメージを作成するには、このオプションを使用します。 このオプションでは、マルチイメージステージアプローチを使用して、アプリケーションをステージングし、必要なバイナリをコンパイルして、必要なアセットのみを最終イメージに保存します。 ASP.NET コンテナーイメージが基本イメージとして使用されます。 このオプションを選択すると、Visual Studio が存在するフォルダーも求められます。 これにより、既存のプロジェクトの一覧が表示され、コンテナー化するプロジェクトを選択できます。
- **IIS web アプリケーション/Web 配置 (エクスポートされた Zip ファイル)**: このオプションは、実行中のサーバーからエクスポートされたアイテムからコンテナーイメージを作成する場合に使用します。 Web 配置を使用してアプリケーションを Zip ファイルにエクスポートした後、Windows 管理センターを使用して、エクスポートされた Zip ファイルに基づいて新しいコンテナーイメージを作成することができます。 ASP.NET コンテナーイメージが基本イメージとして使用されます。

コンテナー化するアプリケーションの種類を選択したら、[共通オプション] を選択してイメージの作成を完了することができます。

- **Framework のバージョン**: Visual Studio のソリューションと Web 配置のオプションはどちらも、コンテナーイメージのベースとして ASP.NET イメージを使用します。 ただし、アプリケーションに対応するために使用する .NET Framework のバージョンを選択できます。
- **実行する追加のスクリプト**: このオプションでは、ビルド時に使用する PowerShell スクリプトを選択できます。 Windows 管理センターは、をコピーする命令を Dockerfile に追加します。PS1 ファイルをコンテナーイメージに格納し、コンテナーイメージの作成時にこのスクリプトを実行します。 これは、アプリケーション自体では完了していない追加の手順をアプリケーションで実行する必要がある場合に役立ちます。
- **イメージ名**: 使用する最終的なイメージの名前。 この名前は、後でコンテナーレジストリにイメージをプッシュするときに変更できます。
- **イメージタグ**: 同じイメージの複数のバージョンを区別するためにタグが使用されます。 識別子を指定して、イメージのタグが正しく付けられるようにします。

コンテナーイメージのすべてのオプションを選択したら、Dockerfile を確認できます。 必要に応じて、Dockerfile を手動で編集することもできます。 この Dockerfile は、前の手順で指定したアプリケーションの場所に保存されます。 

>[!Note]
>コンテナー化しようとしているアプリケーションの場所に Dockerfile が既に存在する場合、そのファイルは、作成した新しいファイルに置き換えられます。

## <a name="next-steps"></a>次のステップ

> [!div class="nextstepaction"]
> [Windows 管理センターでコンテナーを実行する](./wac-containers.md)